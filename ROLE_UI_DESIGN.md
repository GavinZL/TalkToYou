# 角色选择界面效果示意

## 主界面布局

```
┌──────────────────────────────────┐
│  ← 取消          选择角色          │
├──────────────────────────────────┤
│                                  │
│  预设角色                         │
│  ┌────────┬────────┬────────┐   │
│  │  📐    │  ⚖️    │  ❤️    │   │
│  │ 数学老师│  律师  │健康教练│   │
│  │耐心讲解 │专业咨询│健康指导│   │
│  └────────┴────────┴────────┘   │
│  ┌────────┬────────┬────────┐   │
│  │  👨    │  👩    │  🧠    │   │
│  │  爸爸  │  妈妈  │心理咨询│   │
│  │温暖支持│温柔体贴│专业倾听│   │
│  └────────┴────────┴────────┘   │
│  ┌────────┬────────┬────────┐   │
│  │  📚    │  💼    │  💻    │   │
│  │英语老师│职业顾问│编程导师│   │
│  │提升英语│职场规划│编程教学│   │
│  └────────┴────────┴────────┘   │
│  ┌────────┬────────┬────────┐   │
│  │  🍳    │  ✈️    │  💰    │   │
│  │美食顾问│旅行顾问│理财顾问│   │
│  │美食推荐│旅行规划│财务管理│   │
│  └────────┴────────┴────────┘   │
│                                  │
│  自定义角色                       │
│  ┌────────┬────────┬────────┐   │
│  │  ⭐    │  🎵    │  🎨    │   │
│  │我的导师│音乐老师│艺术顾问│   │
│  │自定义1 │自定义2 │自定义3 │   │
│  └────────┴────────┴────────┘   │
│                                  │
│              ···                 │
│                                  │
│         ┌──────────────┐        │
│         │ ➕ 自定义角色 │        │
│         └──────────────┘        │
└──────────────────────────────────┘
```

## 自定义角色编辑界面

```
┌──────────────────────────────────┐
│  取消         创建角色       保存  │
├──────────────────────────────────┤
│                                  │
│  基本信息                         │
│  ┌────────────────────────────┐ │
│  │ 角色名称：＿＿＿＿＿＿＿＿   │ │
│  │ 简短描述：＿＿＿＿＿＿＿＿   │ │
│  └────────────────────────────┘ │
│                                  │
│  外观设置                         │
│  选择图标                         │
│  ┌─┬─┬─┬─┬─┬─┐                │
│  │🙂│⭐│❤️│📖│🎓│💡│                │
│  └─┴─┴─┴─┴─┴─┘                │
│  ┌─┬─┬─┬─┬─┬─┐                │
│  │🔥│🍃│🎵│📷│🎨│🔧│                │
│  └─┴─┴─┴─┴─┴─┘                │
│                                  │
│  选择颜色                         │
│  ┌─┬─┬─┬─┬─┬─┬─┬─┐            │
│  │🔵│🟢│🔴│🟠│🟣│🩷│🔷│🟦│            │
│  └─┴─┴─┴─┴─┴─┴─┴─┘            │
│                                  │
│  性格特点                         │
│  ┌────────────────────────────┐ │
│  │ 友好、专业、耐心             │ │
│  └────────────────────────────┘ │
│                                  │
│  角色提示词                       │
│  ┌────────────────────────────┐ │
│  │ 你是一位...                 │ │
│  │                            │ │
│  │                            │ │
│  │                            │ │
│  └────────────────────────────┘ │
│  这是AI扮演该角色时的核心指导    │
└──────────────────────────────────┘
```

## 聊天界面集成

```
┌──────────────────────────────────┐
│  👨‍🏫 数学老师   智能对话    ⚙️   │
├──────────────────────────────────┤
│                                  │
│           对话内容区域            │
│                                  │
│  ┌──────────────────┐           │
│  │ 你好，我是你的    │           │
│  │ 数学老师！       │           │
│  └──────────────────┘           │
│                     ┌──────────┐│
│                     │请教一个  ││
│                     │数学问题  ││
│                     └──────────┘│
│                                  │
├──────────────────────────────────┤
│ ● 就绪                           │
├──────────────────────────────────┤
│ 📞 [输入消息...          📤]  ➕ │
└──────────────────────────────────┘
```

## 功能亮点

### 1. 角色卡片设计
- **渐变图标**：每个角色有独特的渐变色圆形图标
- **选中标记**：当前选中的角色显示绿色勾选标记
- **卡片阴影**：选中的卡片有颜色阴影，未选中的有轻微灰色阴影
- **描述文字**：2行简短描述，让用户快速了解角色特点

### 2. 交互设计
- **点击选择**：轻点卡片即可选择角色，0.3秒后自动关闭页面
- **长按菜单**：长按自定义角色可以编辑或删除
- **二次确认**：删除角色前有确认对话框
- **浮动按钮**：添加按钮固定在底部，始终可见

### 3. 视觉效果
- **3列网格**：适配所有屏幕尺寸
- **分组显示**：预设角色和自定义角色分开展示
- **渐变按钮**：添加按钮使用蓝色渐变和阴影
- **响应式**：滚动流畅，留白合理

### 4. 编辑界面
- **所见即所得**：选择图标和颜色立即预览效果
- **表单验证**：名称和提示词为空时无法保存
- **引导文字**：每个输入框都有提示文字和说明

## 使用流程

1. **打开角色选择** → 点击导航栏左侧的角色按钮
2. **浏览角色** → 上下滚动查看所有预设和自定义角色
3. **选择角色** → 点击卡片选择，自动关闭并应用
4. **创建角色** → 点击底部"+ 自定义角色"按钮
5. **编辑角色** → 长按自定义角色，选择"编辑"
6. **删除角色** → 长按自定义角色，选择"删除"并确认

## 技术特点

- ✅ SwiftUI 原生实现
- ✅ MVVM 架构
- ✅ 数据持久化（UserDefaults）
- ✅ 响应式更新（Combine + ObservableObject）
- ✅ 流畅动画（withAnimation）
- ✅ 无障碍支持（语义化标签）
